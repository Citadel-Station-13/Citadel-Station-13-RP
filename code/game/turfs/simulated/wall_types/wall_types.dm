/turf/simulated/wall/r_wall
	icon = 'icons/turf/walls/_previews.dmi'
	icon_state = "reinforced_solid"
	color = "#666666"
	rad_insulation = RAD_INSULATION_SUPER

	material_outer  = /datum/material/plasteel
	material_reinf  = /datum/material/plasteel
	material_girder = /datum/material/steel

/turf/simulated/wall/shull
	icon = 'icons/turf/walls/hull.dmi'
	color = "#666677"
	material_outer  = /datum/material/steel/hull
	material_reinf  = null
	material_girder = /datum/material/steel/hull

/turf/simulated/wall/rshull
	color = "#666677"
	material_outer  = /datum/material/steel/hull
	material_reinf  = /datum/material/steel/hull
	material_girder = /datum/material/steel/hull

/turf/simulated/wall/pshull
	icon = 'icons/turf/walls/hull.dmi'
	color = "#777788"
	material_outer  = /datum/material/plasteel/hull
	material_reinf  = null
	material_girder = /datum/material/plasteel/hull

/turf/simulated/wall/rpshull
	icon = 'icons/turf/walls/hull.dmi'
	color = "#777788"
	material_outer  = /datum/material/plasteel/hull
	material_reinf  = /datum/material/plasteel/hull
	material_girder = /datum/material/plasteel/hull

/turf/simulated/wall/dshull
	icon = 'icons/turf/walls/hull.dmi'
	color = "#45829a"
	material_outer  = /datum/material/durasteel/hull
	material_reinf  = null
	material_girder = /datum/material/durasteel/hull

/turf/simulated/wall/rdshull
	icon = 'icons/turf/walls/hull.dmi'
	color = "#45829a"
	material_outer  = /datum/material/durasteel/hull
	material_reinf  = /datum/material/durasteel/hull
	material_girder = /datum/material/durasteel/hull

/turf/simulated/wall/thull
	icon = 'icons/turf/walls/hull.dmi'
	color = "#D1E6E3"
	material_outer  = /datum/material/plasteel/titanium/hull
	material_reinf  = null
	material_girder = /datum/material/plasteel/titanium/hull

/turf/simulated/wall/rthull
	icon = 'icons/turf/walls/hull.dmi'
	color = "#D1E6E3"
	material_outer  = /datum/material/plasteel/titanium/hull
	material_reinf  = /datum/material/plasteel/titanium/hull
	material_girder = /datum/material/plasteel/titanium/hull


/turf/simulated/wall/cult
	icon = 'icons/turf/walls/cult.dmi'
	color = "#402821"

	material_outer  = /datum/material/cult
	material_reinf  = /datum/material/cult/reinf
	material_girder = /datum/material/cult

/turf/unsimulated/wall/cult
	name = "cult wall"
	desc = "Hideous images dance beneath the surface."
	icon = 'icons/turf/walls/cult.dmi'
	icon_state = "wall-0"
	base_icon_state = "wall"
	color = "#402821"

/turf/simulated/wall/iron
	icon = 'icons/turf/walls/metal.dmi'
	color = "#5C5454"

	material_outer  = /datum/material/iron
	material_reinf  = null
	material_girder = /datum/material/steel

/turf/simulated/wall/uranium
	icon = 'icons/turf/walls/metal.dmi'
	color = "#007A00"

	material_outer  = /datum/material/uranium
	material_reinf  = null
	material_girder = /datum/material/steel

/turf/simulated/wall/diamond
	icon = 'icons/turf/walls/metal.dmi'
	color = "#00FFE1"

	material_outer  = /datum/material/diamond
	material_reinf  = null
	material_girder = /datum/material/steel

/turf/simulated/wall/gold
	icon = 'icons/turf/walls/metal.dmi'
	color = "#EDD12F"

	material_outer  = /datum/material/gold
	material_reinf  = null
	material_girder = /datum/material/steel

/turf/simulated/wall/silver
	icon = 'icons/turf/walls/metal.dmi'
	color = "#D1E6E3"

	material_outer  = /datum/material/silver
	material_reinf  = null
	material_girder = /datum/material/steel

/turf/simulated/wall/lead
	icon = 'icons/turf/walls/metal.dmi'
	color = "#273956"

	material_outer  = /datum/material/lead
	material_reinf  = null
	material_girder = /datum/material/steel

/turf/simulated/wall/r_lead
	icon = 'icons/turf/walls/metal.dmi'
	color = "#273956"

	material_outer  = /datum/material/lead
	material_reinf  = /datum/material/lead
	material_girder = /datum/material/steel

/turf/simulated/wall/phoron
	icon = 'icons/turf/walls/metal.dmi'
	color = "#FC2BC5"

	material_outer  = /datum/material/phoron
	material_reinf  = null
	material_girder = /datum/material/steel

/turf/simulated/wall/sandstone
	icon = 'icons/turf/walls/stone_wall.dmi'
	color = "#D9C179"

	material_outer  = /datum/material/sandstone
	material_reinf  = null
	material_girder = /datum/material/steel

/turf/simulated/wall/bone
	icon = 'icons/turf/walls/stone_wall.dmi'
	color = "#e6dfc8"

	material_outer  = /datum/material/bone
	material_reinf  = null
	material_girder = /datum/material/bone

/turf/simulated/wall/ironphoron
	icon = 'icons/turf/walls/metal.dmi'
	color = "#5C5454"

	material_outer  = /datum/material/iron
	material_reinf  = /datum/material/phoron
	material_girder = /datum/material/steel

/turf/simulated/wall/golddiamond
	icon = 'icons/turf/walls/metal.dmi'
	color = "#EDD12F"

	material_outer  = /datum/material/gold
	material_reinf  = /datum/material/diamond
	material_girder = /datum/material/steel

/turf/simulated/wall/silvergold
	icon = 'icons/turf/walls/metal.dmi'
	color = "#D1E6E3"

	material_outer  = /datum/material/silver
	material_reinf  = /datum/material/gold
	material_girder = /datum/material/steel

/turf/simulated/wall/sandstonediamond
	icon = 'icons/turf/walls/stone_wall.dmi'
	color = "#D9C179"

	material_outer  = /datum/material/sandstone
	material_reinf  = /datum/material/diamond
	material_girder = /datum/material/steel

/turf/simulated/wall/snowbrick
	icon = 'icons/turf/walls/stone_wall.dmi'
	color = "#D8FDFF"

	material_outer  = /datum/material/snowbrick
	material_reinf  = null
	material_girder = /datum/material/steel

/turf/simulated/wall/resin
	icon = 'icons/turf/walls/resin.dmi'
	color = "#261438"

	material_outer  = /datum/material/resin
	material_reinf  = null
	material_girder = /datum/material/resin

// Kind of wondering if this is going to bite me in the butt.
/turf/simulated/wall/skipjack
	material_outer  = /datum/material/alienalloy
	material_reinf  = null
	material_girder = /datum/material/steel

/turf/simulated/wall/skipjack/attackby()
	return

/turf/simulated/wall/titanium
	material_outer  = /datum/material/plasteel/titanium
	material_reinf  = null
	material_girder = /datum/material/steel

/turf/simulated/wall/durasteel
	material_outer  = /datum/material/durasteel
	material_reinf  = /datum/material/durasteel
	material_girder = /datum/material/steel

/turf/simulated/wall/wood
	icon = 'icons/turf/walls/_previews.dmi'
	icon_state = "wood"
	color = "#9c5930"

	material_outer  = /datum/material/wood_plank
	material_reinf  = null
	material_girder = /datum/material/wood_plank

/turf/simulated/wall/wood/sifwood
	color = "#0099cc"

	material_outer  = /datum/material/wood_plank/sif
	material_reinf  = null
	material_girder = /datum/material/wood_plank/sif

/turf/simulated/wall/wood/hardwood
	color = "#42291a"

	material_outer  = /datum/material/wood_plank/hardwood
	material_reinf  = null
	material_girder = /datum/material/wood_plank/hardwood

/turf/simulated/wall/log
	icon = 'icons/turf/walls/log.dmi'
	color = "#9c5930"

	material_outer  = /datum/material/wood_log
	material_reinf  = null
	material_girder = /datum/material/wood_log

/turf/simulated/wall/log_sif
	icon = 'icons/turf/walls/log.dmi'
	color = "#0099cc"

	material_outer  = /datum/material/wood_log/sif
	material_reinf  = null
	material_girder = /datum/material/wood_log/sif

// TODO: Nuke. @Zandario
// Shuttle Walls
/turf/simulated/shuttle/wall
	name = "autojoin wall"
	icon_state = "light"
	opacity = TRUE
	density = TRUE
	blocks_air = TRUE
	permit_ao = FALSE

	/// The base iconstate to base sprites on
	var/base_state = "light"
	/// Forces hard corners (as opposed to diagonals)
	var/hard_corner = 0
	/// What to rename this to on init
	var/true_name = "wall"

	//Extra things this will try to locate and act like we're joining to. You can put doors, or whatever.
	//Carefully means only if it's on a /turf/simulated/shuttle subtype turf.
	var/static/list/join_carefully = list(
		/obj/machinery/door/blast/regular,
		/obj/structure/grille,
	)
	var/static/list/join_always = list(
		/obj/machinery/door/airlock/voidcraft,
		/obj/structure/shuttle/engine,
		/obj/structure/shuttle/window,
	)

/turf/simulated/shuttle/wall/hard_corner
	name = "hardcorner wall"
	icon_state = "light-hc"
	hard_corner = 1

/turf/simulated/shuttle/wall/no_join
	icon_state = "light-nj"
	join_group = null

/turf/simulated/shuttle/wall/dark
	icon = 'icons/turf/shuttle_dark.dmi'
	icon_state = "dark"
	base_state = "dark"

/turf/simulated/shuttle/wall/dark/hard_corner
	name = "hardcorner wall"
	icon_state = "dark-hc"
	hard_corner = 1

/turf/simulated/shuttle/wall/dark/no_join
	name = "nojoin wall"
	icon_state = "dark-nj"
	join_group = null

/turf/simulated/shuttle/wall/alien
	icon = 'icons/turf/shuttle_alien.dmi'
	icon_state = "alien"
	base_state = "alien"
	light_range = 3
	light_power = 0.75
	light_color = "#ff0066" // Pink-ish
	block_tele = TRUE // Will be used for dungeons so this is needed to stop cheesing with handteles.

/turf/simulated/shuttle/wall/alien/hard_corner
	name = "hardcorner wall"
	icon_state = "alien-hc"
	hard_corner = 1

/turf/simulated/shuttle/wall/alien/no_join
	name = "nojoin wall"
	icon_state = "alien-nj"
	join_group = null

/turf/simulated/shuttle/wall/Initialize(mapload)
	. = ..()
	//To allow mappers to rename shuttle walls to like "redfloor interior" or whatever for ease of use.
	name = true_name

/turf/simulated/shuttle/wall/Initialize(mapload)
	. = ..()

	if(join_group)
		src.auto_join()
	else
		icon_state = base_state

	if(takes_underlays)
		underlay_update()

/turf/simulated/shuttle/wall/proc/auto_join()
	match_turf(NORTH, NORTH)
	match_turf(EAST, EAST)
	match_turf(SOUTH, SOUTH)
	match_turf(WEST, WEST)

	icon_state = "[base_state][join_flags]"
	if(IS_DIAGONAL(join_flags))
		if(hard_corner) //You are using 'hard' (aka full-tile) corners.
			icon_state += "h" //Hard corners have 'h' at the end of the state
		else //Diagonals need an underlay to not look ugly.
			takes_underlays = 1
	else //Everything else doesn't deserve our time!
		takes_underlays = initial(takes_underlays)

	return join_flags

/turf/simulated/shuttle/wall/proc/match_turf(direction, flag, mask=0)
	if((join_flags & mask) == mask)
		var/turf/simulated/shuttle/wall/adj = get_step(src, direction)
		if(istype(adj, /turf/simulated/shuttle/wall) && adj.join_group == src.join_group)
			join_flags |= flag      // turn on the bit flag
			return

		else if(istype(adj, /turf/simulated/shuttle))
			var/turf/simulated/shuttle/adj_cast = adj
			if(adj_cast.join_group == src.join_group)
				var/found
				for(var/E in join_carefully)
					found = locate(E) in adj
					if(found) break
				if(found)
					join_flags |= flag      // turn on the bit flag
					return

		var/always_found
		for(var/E in join_always)
			always_found = locate(E) in adj
			if(always_found) break
		if(always_found)
			join_flags |= flag      // turn on the bit flag
		else
			join_flags &= ~flag     // turn off the bit flag

/turf/simulated/shuttle/wall/voidcraft
	name = "voidcraft wall"
	icon = 'icons/turf/shuttle_void.dmi'
	icon_state = "void"
	base_state = "void"
	var/stripe_color = null // If set, generates a colored stripe overlay.  Accepts #XXXXXX as input.

/turf/simulated/shuttle/wall/voidcraft/hard_corner
	name = "hardcorner wall"
	icon_state = "void-hc"
	hard_corner = 1

/turf/simulated/shuttle/wall/voidcraft/no_join
	name = "nojoin wall"
	icon_state = "void-nj"
	join_group = null

/turf/simulated/shuttle/wall/voidcraft/red
	stripe_color = "#FF0000"

/turf/simulated/shuttle/wall/voidcraft/blue
	stripe_color = "#0000FF"

/turf/simulated/shuttle/wall/voidcraft/green
	stripe_color = "#00FF00"

/turf/simulated/shuttle/wall/voidcraft/Initialize(mapload)
	. = ..()
	update_icon()

/turf/simulated/shuttle/wall/voidcraft/update_icon()
	if(stripe_color)
		cut_overlays()
		var/image/I = image(icon = src.icon, icon_state = "o_[icon_state]")
		I.color = stripe_color
		add_overlay(I)

/turf/simulated/wall/r_wall/prepainted
	color = COLOR_WALL_GUNMETAL
	paint_color = COLOR_WALL_GUNMETAL
	icon_state = "reinforced_solid"

/turf/simulated/wall/r_wall/prepainted/command
	stripe_color = COLOR_COMMAND_BLUE
	color = COLOR_COMMAND_BLUE

/turf/simulated/wall/r_wall/prepainted/security
	stripe_color = COLOR_SECURITY_RED
	color = COLOR_SECURITY_RED

/turf/simulated/wall/r_wall/prepainted/medical
	paint_color = COLOR_GRAY80
	stripe_color = COLOR_BABY_BLUE
	color = COLOR_BABY_BLUE

/turf/simulated/wall/r_wall/prepainted/engineering
	stripe_color = COLOR_SUN
	color = COLOR_SUN

/turf/simulated/wall/r_wall/prepainted/engineering/atmos
	stripe_color = COLOR_ATMOSPHERICS_CYAN
	color = COLOR_ATMOSPHERICS_CYAN

/turf/simulated/wall/r_wall/prepainted/civilian
	stripe_color = COLOR_PALE_BTL_GREEN
	color = COLOR_PALE_BTL_GREEN

/turf/simulated/wall/r_wall/prepainted/exploration
	stripe_color = COLOR_EXPLO_VIOLET
	color = COLOR_EXPLO_VIOLET

/turf/simulated/wall/r_wall/prepainted/science
	paint_color = COLOR_GRAY80
	stripe_color = COLOR_PURPLE_GRAY
	color = COLOR_PURPLE_GRAY

/turf/simulated/wall/r_wall/prepainted/cargo
	stripe_color = COLOR_CARGO_BROWN
	color = COLOR_CARGO_BROWN

/turf/simulated/wall/prepainted
	paint_color = COLOR_WALL_GUNMETAL
	color = COLOR_WALL_GUNMETAL
	icon_state = "solid"

/turf/simulated/wall/prepainted/command
	stripe_color = COLOR_COMMAND_BLUE
	color = COLOR_COMMAND_BLUE

/turf/simulated/wall/prepainted/command/alt
	paint_color = COLOR_GRAY15
	stripe_color = COLOR_GOLD
	color = COLOR_GOLD

/turf/simulated/wall/prepainted/security
	stripe_color = COLOR_SECURITY_RED
	color = COLOR_SECURITY_RED

/turf/simulated/wall/prepainted/medical
	paint_color = COLOR_GRAY80
	stripe_color = COLOR_BABY_BLUE
	color = COLOR_BABY_BLUE

/turf/simulated/wall/prepainted/engineering
	stripe_color = COLOR_SUN
	color = COLOR_SUN

/turf/simulated/wall/prepainted/engineering/atmos
	stripe_color = COLOR_ATMOSPHERICS_CYAN
	color = COLOR_ATMOSPHERICS_CYAN

/turf/simulated/wall/prepainted/civilian
	stripe_color = COLOR_PALE_BTL_GREEN
	color = COLOR_PALE_BTL_GREEN

/turf/simulated/wall/prepainted/exploration
	stripe_color = COLOR_EXPLO_VIOLET
	color = COLOR_EXPLO_VIOLET

/turf/simulated/wall/prepainted/science
	paint_color = COLOR_GRAY80
	stripe_color = COLOR_PURPLE_GRAY
	color = COLOR_PURPLE_GRAY

/turf/simulated/wall/prepainted/cargo
	stripe_color = COLOR_CARGO_BROWN
	color = COLOR_CARGO_BROWN
